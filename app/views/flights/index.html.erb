<p style="color: green"><%= notice %></p>

<div class="header">
  <%= render partial: "search", locals: {
    airport_options: @airport_options,
    num_passengers_options: @num_passengers_options
    } %>
  
  <div class="title">
    <h1>Flight Search</h1>
  </div>
</div>

<div id="flights">
  <% if false %>
  <% @flights.each do |flight| %>
    <%= render flight %>
    <p>
      <%= link_to "Show this flight", flight %>
    </p>
  <% end %>
  <% end %>

  <%= form_with url: :new_flight, method: :get, class: "radio" do |form| %>
    <%= form.hidden_field :num_passengers, value: @num_passengers %>
    <%= form.collection_radio_buttons :flight_id, @flights, :arrival_airport_id, :id do |block| %>
      <div class="option-module" style="display: flex; gap: 2rem; padding: 1rem">
        <%= block.radio_button %>
        <%= render partial: "flight", locals: { flight: block.object } %>
      </div>
    <% end %>
    <div class="submit"><%= form.submit "Create Booking" %></div>
  <% end %>
</div>

<%== pagy_nav(@pagy) %>
